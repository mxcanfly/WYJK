@using WYJK.Entity;

@{
    ViewBag.Title = "Calculator";
    Layout = "~/Views/_Layout_SocialSecurity.cshtml";
}

<div class="bg-lightgrey">
    <div class="container bg-white">
        <div class="relative text-center">
            <hr />
            <span class="hrTitle-w grey">
                社保计算器
            </span>
        </div>
        <!--表单计算-->
        <div class="am-padding-xl">
            <form class="form-horizontal">
                <div class="form-group">
                    <label for="inputEmail3" class="col-lg-2 col-md-2 col-sm-2 control-label">选择城市</label>
                    <div class="col-lg-3 col-md-5 col-sm-5">

                        @Html.DropDownList("province", ViewBag.Provinces as List<SelectListItem>, new { @class = "form-control" })
                    </div>
                    <div class="col-lg-3 col-md-5 col-sm-5">
                        <select id="city" name="city" class="form-control">
                            <option>请选择城市</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputPassword3" class="col-sm-2 control-label">户籍性质</label>
                    <div class="col-lg-3 col-md-5 col-sm-5">
                        <select class="form-control">
                            <option>请选择户籍性质</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="" class="col-lg-2 col-md-2 col-sm-2 control-label">社保基数</label>
                    <div class="col-lg-3 col-md-5 col-sm-5">
                        <input class="form-control" type="text" id="" placeholder="请输入社保基数">
                    </div>
                    <div class="col-lg-3 col-md-5 col-sm-5">
                        <div class="am-padding-top-xs">
                            基数范围：<span class="text-primary">2100~20000</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="" class="col-lg-2 col-md-2 col-sm-2 control-label">公积金基数</label>
                    <div class="col-lg-3 col-md-5 col-sm-5">
                        <input class="form-control" type="text" id="" placeholder="请输入公积金基数">
                    </div>
                    <div class="col-lg-3 col-md-5 col-sm-5">
                        <div class="am-padding-top-xs">
                            基数范围：<span class="text-primary">2100~20000</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="" class="col-lg-2 col-md-2 col-sm-2 control-label">缴纳比例</label>
                    <div class="col-lg-2 col-md-5 col-sm-5">
                        <div class="am-padding-top-xs">
                            个人：<span class="text-primary">10%</span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-5 col-sm-5">
                        <div class="am-padding-top-xs">
                            公司：<span class="text-primary">20%</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-lg-offset-2 col-lg-3">
                        <button type="button" class="btn btn-info bg-lightblue btn-block">计算</button>
                    </div>
                    <div class="col-lg-3">
                        <button type="reset" class="btn btn-info bg-lightblue btn-block">重置</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!--计算结果-->
    <div class="container bg-white am-margin-top-lg">
        <div class="am-padding-lg">
            <div class="relative text-center am-margin-bottom-xl">
                <hr />
                <span class="hrTitle-w grey">
                    社保公积金缴费明细
                </span>
            </div>
            <table class="table table-bordered table-responsive calculator-result-w">
                <tr class="info">
                    <th rowspan="2">缴费项目</th>
                    <th rowspan="2">社保基数</th>
                    <th colspan="2">个人缴纳</th>
                    <th colspan="2">企业缴纳</th>
                </tr>
                <tr class="info">
                    <th>缴纳比例</th>
                    <th>缴纳金额</th>
                    <th>缴纳比例</th>
                    <th>缴纳金额</th>
                </tr>
                <tr>
                    <td>养老保险</td>
                    <td>2561</td>
                    <td>8%</td>
                    <td>206</td>
                    <td>10%</td>
                    <td>402</td>
                </tr>
                <tr>
                    <td>失业保险</td>
                    <td>2561</td>
                    <td>8%</td>
                    <td>206</td>
                    <td>10%</td>
                    <td>402</td>
                </tr>
                <tr>
                    <td>工伤保险</td>
                    <td>2561</td>
                    <td>8%</td>
                    <td>206</td>
                    <td>10%</td>
                    <td>402</td>
                </tr>
                <tr>
                    <td>生育保险</td>
                    <td>2561</td>
                    <td>8%</td>
                    <td>206</td>
                    <td>10%</td>
                    <td>402</td>
                </tr>
                <tr>
                    <td>医疗保险</td>
                    <td>2561</td>
                    <td>8%</td>
                    <td>206</td>
                    <td>10%</td>
                    <td>402</td>
                </tr>
                <tr>
                    <td>公积金</td>
                    <td>2561</td>
                    <td>8%</td>
                    <td>206</td>
                    <td>10%</td>
                    <td>402</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td>个人共缴纳</td>
                    <td class="orange">527.53</td>
                    <td>企业共缴纳</td>
                    <td class="orange">527.53</td>
                </tr>
            </table>
            <div class="text-right orange">
                总缴纳：1743.56
            </div>
        </div>
    </div>
</div>

@section scripts{

    <script>

        $(function () {


            $("#province").change(function () {

                var code = $(this).val();

                $.ajax({
                    url: '/Calculator/CitysByProvince/' + code,
                    dataType: 'Json',
                    success: function (data) {
                        $("#city").empty();
                        $.each(data, function (i, item) {
                            $("#city").append("<option value='" + item.Value + "'>" + item.Text + "<option>");
                        });
                    }
                });

            });










        });



    </script>
    
    
}
